<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advent Calendar</title>
<style>
  body {
    font-family: "Arial", sans-serif;
    background: linear-gradient(#0b2e13, #145c1f); /* dark ‚Üí brighter green */
    text-align: center;
    padding: 40px 10px;
    color: #fff; /* white text */
  }

  /* --- PROGRESS BAR AREA --- */
  .progress-wrapper {
    max-width: 700px;
    margin: 0 auto 30px auto;
  }

  .progress-bg {
    position: relative;
  }

  .progress-bg img {
    width: 100%;
    max-width: 700px;
    display: block;
    margin: 0 auto;
    border: 3px solid #b30000;      /* red frame */
    border-radius: 10px;
  }

  /* bar placed over the image */
  .progress-bar {
    position: absolute;
    left: 10%;
    right: 10%;
    bottom: 20%;      
    height: 24px;
    border-radius: 12px;
    background: rgba(0, 0, 0, 0.5); /* semi-transparent black behind the bar */
    overflow: hidden;
    border: 2px solid #b30000; /* red border */
  }

  .progress-fill {
    height: 100%;
    width: 0%;
    border-radius: 12px;
    background: linear-gradient(90deg, #b30000, #ff4d4d); /* red gradient */
    transition: width 0.8s ease-out;
  }

  .progress-text {
    margin-top: 10px;
    font-weight: bold;
    color: #ffdf80; /* soft gold */
    text-shadow: 1px 1px 3px black;
  }

  /* --- MAIN CONTENT BOX --- */
  .box {
    background: #ffffff;
    color: #000;
    padding: 25px;
    border-radius: 14px;
    max-width: 600px;
    margin: 0 auto;
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.3); /* glow */
    border: 3px solid #b30000; /* red border */
  }

  .box h1 {
    color: #b30000; /* red title */
    text-shadow: 1px 1px 2px #000;
  }

  img.advent-image {
    max-width: 100%;
    border-radius: 10px;
    margin-top: 15px;
    border: 3px solid #0b2e13; /* dark green frame */
  }

  iframe {
    margin-top: 15px;
    width: 100%;
    max-width: 420px;
    height: 240px;
    border: 3px solid #b30000; /* red frame */
    border-radius: 6px;
  }
</style>

</head>
<body>

<!-- ALWAYS VISIBLE PROGRESS BAR -->
<div class="progress-wrapper">
  <div class="progress-bg">
    <!-- your drawing/photo of the 3 people holding the bar -->
    <img src="YOUR_IMAGE_URL_HERE" alt="People holding Christmas bar">
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
  </div>
  <div class="progress-text" id="progressText"></div>
</div>

<!-- ADVENT MESSAGE BOX -->
<div class="box">
  <h1>üéÑ GIS advento kalendorius üéÑ</h1>
  <div id="content">Loading...</div>
</div>

<script>
// ---------- ADVENT MESSAGES (edit these) ----------
const messages = {
  1: {
    text: "‚ú® Gruod≈æio 1!",
    song: "https://www.youtube.com/embed/E8gmARGvPlI"
  },
  2: {
    text: "‚ùÑÔ∏è December 2 ‚Äî Wishing you warmth and joy!",
    image: "https://raw.githubusercontent.com/USERNAME/REPO/main/image2.jpg",
    song: "https://www.youtube.com/embed/0bhsXykXxfg"
  },
  // ... continue up to day 24 ...
};

// ---------- DATE + PROGRESS BAR LOGIC ----------
const today = new Date();
const year = today.getFullYear();

// Advent from 1 Dec to 24 Dec of current year
const adventStart = new Date(year, 11, 1);   // month 11 = December
const adventEnd   = new Date(year, 11, 24);  // inclusive

let progressPercent;
let currentDay = today.getDate();
let currentMonth = today.getMonth() + 1;

// calculate days between two dates
function daysBetween(d1, d2) {
  const oneDayMs = 24 * 60 * 60 * 1000;
  return Math.round((d2 - d1) / oneDayMs);
}

// total days in advent (inclusive)
const totalAdventDays = daysBetween(adventStart, adventEnd);

// if before 1 Dec -> 0%, after 24 Dec -> 100%
if (today < adventStart) {
  progressPercent = 0;
} else if (today > adventEnd) {
  progressPercent = 100;
} else {
  const daysSoFar = daysBetween(adventStart, today);
  progressPercent = (daysSoFar / totalAdventDays) * 100;
}

// apply to bar
const fill = document.getElementById("progressFill");
fill.style.width = progressPercent + "%";

// progress text (e.g. "Day 5 of 24")
let progressLabel;
if (currentMonth === 12 && currentDay >= 1 && currentDay <= 24) {
  const dayNumber = currentDay; // 1‚Äì24 in Dec
  progressLabel = `Day ${dayNumber} of 24`;
} else {
  progressLabel = "Waiting for December üéÅ";
}
document.getElementById("progressText").textContent =
  `Iki Kalƒód≈≥ liko: ${Math.round(progressPercent)}% ‚Äì ${progressLabel}`;

// ---------- SHOW TODAY'S MESSAGE ----------
function buildContent(data) {
  let html = "";
  if (data.text) {
    html += `<p>${data.text}</p>`;
  }
  if (data.image) {
    html += `<img class="advent-image" src="${data.image}" alt="Advent image">`;
  }
  if (data.song) {
    html += `<iframe src="${data.song}" allowfullscreen></iframe>`;
  }
  return html || "<p>No surprise for this day yet üòä</p>";
}

if (currentMonth === 12 && messages[currentDay]) {
  document.getElementById("content").innerHTML = buildContent(messages[currentDay]);
} else if (currentMonth === 12 && currentDay > 24) {
  document.getElementById("content").innerHTML = "üéÑ Advent is over ‚Äî Merry Christmas! üéÅ";
} else {
  document.getElementById("content").innerHTML = "‚ùÑÔ∏è Advent calendar opens only in December!";
}
</script>

</body>
</html>
